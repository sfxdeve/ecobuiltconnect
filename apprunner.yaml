version: 1.0
runtime: nodejs22

build:
  commands:
    build:
      - corepack enable
      - pnpm install --frozen-lockfile
      - pnpm build
  env:
    - name: VITE_CLERK_PUBLISHABLE_KEY
      value: pk_test_cHJvcGVyLWtvZGlhay0xMy5jbGVyay5hY2NvdW50cy5kZXYk
  secrets:
    - name: DATABASE_URL
      value-from: arn:aws:secretsmanager:us-east-1:667917564107:secret:prod/ecobuiltconnect/DATABASE_URL-RlmGU7

run:
  command: pnpm start
  network:
    port: 3000
